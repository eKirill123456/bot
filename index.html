<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Кликер Игра</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Модальное окно подтверждения сброса -->
    <div class="confirm-reset" id="confirmReset">
        <div class="confirm-box">
            <h2 class="confirm-title"><i class="fas fa-exclamation-triangle"></i> Сброс прогресса</h2>
            <p class="confirm-text">Вы уверены, что хотите сбросить весь прогресс?</p>
            <div class="confirm-buttons">
                <button class="confirm-yes" id="confirmYes">Да, сбросить</button>
                <button class="confirm-no" id="confirmNo">Отмена</button>
            </div>
        </div>
    </div>

    <!-- Модальное окно для промокодов -->
    <div class="promo-modal" id="promoModal">
        <div class="promo-box">
            <h2 class="promo-title"><i class="fas fa-ticket-alt"></i> Промокод</h2>
            <input type="text" class="promo-input" id="promoInput" placeholder="Введите промокод..." maxlength="20">
            <div class="promo-buttons">
                <button class="promo-activate" id="promoActivate">Активировать</button>
                <button class="promo-close" id="promoClose">Закрыть</button>
            </div>
            <div class="promo-list" id="promoList"></div>
        </div>
    </div>

    <!-- Модальное окно настроек -->
    <div class="settings-modal" id="settingsModal">
        <div class="settings-box">
            <h2 class="settings-title"><i class="fas fa-cog"></i> Настройки</h2>
            <div class="settings-buttons">
                <button class="settings-btn reset" id="settingsReset">
                    <i class="fas fa-trash-alt"></i> Сбросить прогресс
                </button>
                <button class="settings-btn sound" id="settingsSound">
                    <i class="fas fa-volume-up"></i> Звук ВКЛ
                </button>
                <button class="settings-btn promo" id="settingsPromo">
                    <i class="fas fa-ticket-alt"></i> Промокоды
                </button>
            </div>
            <button class="settings-close" id="settingsClose">Закрыть</button>
        </div>
    </div>
    
    <div class="container">
        <!-- Верхняя панель -->
        <header>
            <div class="header-left">
                <button class="settings-button" id="settingsButton">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
            <div class="points-display" id="pointsDisplay">
                <i class="fas fa-star"></i>
                <span id="clickCount">0</span>
            </div>
            <div class="header-right">
                <div class="keys-display" id="keysDisplay" title="Магазин">
                    <i class="fas fa-key"></i>
                    <span id="keysCount">0</span>
                </div>
            </div>
        </header>

        <!-- Telegram панель (скрыта по умолчанию) -->
        <div class="telegram-panel" id="telegramPanel" style="display: none;">
            <div class="telegram-user">
                <i class="fab fa-telegram"></i>
                <span id="telegramUser">Загрузка...</span>
            </div>
            <div class="telegram-buttons">
                <button class="telegram-button" id="shareButton">
                    <i class="fas fa-share-alt"></i> Поделиться
                </button>
                <button class="telegram-button" id="inviteButton">
                    <i class="fas fa-user-plus"></i> Пригласить
                </button>
            </div>
        </div>
        
        <!-- Основной контент (переключается табами) -->
        <div class="content-area">
            <!-- Вкладка ИГРА -->
            <div class="tab-content active" id="gameTab">
                <div class="game-area">
                    <section class="clicker-section">
                        <!-- Секция энергии -->
                        <div class="energy-section">
                            <div class="energy-header">
                                <div class="energy-title">
                                    <i class="fas fa-bolt"></i> Энергия
                                </div>
                                <div class="energy-value">
                                    <span id="currentEnergy">100</span>/<span id="maxEnergy">100</span>
                                </div>
                            </div>
                            <div class="energy-bar-container">
                                <div class="energy-bar" id="energyBar"></div>
                            </div>
                            <div class="energy-info">
                                <div>Восст: <span class="energy-regen" id="energyRegen">5</span>/с</div>
                                <div>Стоим: <span class="energy-cost" id="energyCost">5</span></div>
                            </div>
                        </div>
                        
                        <div class="click-counter" id="totalPoints">0</div>
                        <button class="click-button skin-default" id="clickButton">
                            <i class="fas fa-mouse-pointer"></i>
                        </button>
                        <div class="click-rate">за клик: <span id="clickValue">1</span></div>
                    </section>
                    
                    <section class="upgrades-section">
                        <h2 class="section-title">Улучшения</h2>
                        <div class="upgrade-list" id="upgradeList"></div>
                    </section>
                </div>
                
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-value" id="totalClicks">0</div>
                        <div class="stat-label">Клики</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="pointsPerSecond">0</div>
                        <div class="stat-label">/сек</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="energyEfficiency">1.0</div>
                        <div class="stat-label">Эфф-ть</div>
                    </div>
                </div>
            </div>
            
            <!-- Вкладка ДОСТИЖЕНИЯ -->
            <div class="tab-content" id="achievementsTab">
                <div class="achievements-container">
                    <div class="achievements-stats">
                        <div class="achievements-stat">
                            <div class="achievements-stat-value" id="completedAchievements">0/50</div>
                            <div class="achievements-stat-label">Выполнено</div>
                        </div>
                        <div class="achievements-stat">
                            <div class="achievements-stat-value" id="availableKeys">0</div>
                            <div class="achievements-stat-label">Ключи</div>
                        </div>
                    </div>
                    
                    <div class="achievements-grid" id="achievementsList"></div>
                </div>
            </div>
            
            <!-- Вкладка МАГАЗИН -->
            <div class="tab-content" id="shopTab">
                <div class="shop-container">
                    <div class="shop-stats">
                        <div class="shop-stat">
                            <div class="shop-stat-value" id="shopKeysCount">0</div>
                            <div class="shop-stat-label">Ключи</div>
                        </div>
                        <div class="shop-stat">
                            <div class="shop-stat-value" id="purchasedCount">0/15</div>
                            <div class="shop-stat-label">Куплено</div>
                        </div>
                    </div>
                    
                    <div class="shop-grid" id="shopList"></div>
                </div>
            </div>
            
            <!-- Вкладка СКИНЫ -->
            <div class="tab-content" id="skinsTab">
                <div class="skins-container">
                    <div class="skins-stats">
                        <div class="skins-stat">
                            <div class="skins-stat-value" id="skinsKeysCount">0</div>
                            <div class="skins-stat-label">Ключи</div>
                        </div>
                        <div class="skins-stat">
                            <div class="skins-stat-value" id="equippedSkin">Класс</div>
                            <div class="skins-stat-label">Скин</div>
                        </div>
                    </div>
                    
                    <div class="skins-grid" id="skinsList"></div>
                </div>
            </div>
            
            <!-- Вкладка КЕЙСЫ -->
            <div class="tab-content" id="casesTab">
                <div class="cases-container">
                    <div class="cases-stats">
                        <div class="cases-stat">
                            <div class="cases-stat-value" id="casesKeysCount">0</div>
                            <div class="cases-stat-label">Ключи</div>
                        </div>
                    </div>
                    
                    <div class="cases-grid" id="casesList"></div>
                </div>
            </div>
            
            <!-- Вкладка ЛИДЕРЫ -->
            <div class="tab-content" id="leaderboardTab">
                <div class="leaderboard-container">
                    <div class="leaderboard-stats">
                        <div class="leaderboard-stat">
                            <div class="leaderboard-stat-value" id="playerRank">-</div>
                            <div class="leaderboard-stat-label">Место</div>
                        </div>
                        <div class="leaderboard-stat">
                            <div class="leaderboard-stat-value" id="totalPlayers">0</div>
                            <div class="leaderboard-stat-label">Игроков</div>
                        </div>
                    </div>
                    
                    <div class="leaderboard-table">
                        <div class="leaderboard-header-row">
                            <div>#</div>
                            <div>Игрок</div>
                            <div>Очки</div>
                            <div>Клики</div>
                            <div>Ур</div>
                        </div>
                        <div id="leaderboardList"></div>
                    </div>
                    
                    <button class="leaderboard-update" id="updateLeaderboardBtn">
                        <i class="fas fa-sync-alt"></i> Обновить
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Нижняя панель с табами -->
        <div class="tabs">
            <button class="tab-button active" id="tabGame">
                <i class="fas fa-gamepad"></i>
                <span class="tab-counter" id="gameCounter">0</span>
            </button>
            <button class="tab-button" id="tabAchievements">
                <i class="fas fa-trophy"></i>
                <span class="tab-counter" id="achievementsCounter">0/50</span>
            </button>
            <button class="tab-button" id="tabShop">
                <i class="fas fa-store"></i>
                <span class="tab-counter" id="shopCounter">0/15</span>
            </button>
            <button class="tab-button" id="tabSkins">
                <i class="fas fa-paint-brush"></i>
                <span class="tab-counter" id="skinsCounter">0/10</span>
            </button>
            <button class="tab-button" id="tabCases">
                <i class="fas fa-gift"></i>
                <span class="tab-counter" id="casesCounter">0/4</span>
            </button>
            <button class="tab-button" id="tabLeaderboard">
                <i class="fas fa-trophy"></i>
                <span class="tab-counter" id="leaderboardCounter">0/100</span>
            </button>
        </div>
    </div>

    <!-- Уведомление о покупке -->
    <div id="purchaseNotification" style="display: none;" class="purchase-notification">
        <i class="fas fa-check-circle"></i>
        <span id="purchaseMessage">Куплено!</span>
    </div>

    <!-- Уведомление для промокодов -->
    <div id="promoMessage" style="display: none;" class="promo-message"></div>

    <!-- Подключаем Telegram SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- Подключаем файлы JavaScript -->
    <script src="globals.js"></script>
    <script src="achievements.js"></script>
    <script src="upgrades.js"></script>
    <script src="shop.js"></script>
    <script src="skins.js"></script>
    <script src="lootboxes.js"></script>
    <script src="promocodes.js"></script>
    <script src="telegram.js"></script>
    <script src="leaderboard.js"></script>
    <script src="game.js"></script>
</body>
</html>
