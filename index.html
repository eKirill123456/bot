<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Кликер Игра</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Модальное окно подтверждения сброса -->
    <div class="confirm-reset" id="confirmReset">
        <div class="confirm-box">
            <h2 class="confirm-title"><i class="fas fa-exclamation-triangle"></i> Сброс прогресса</h2>
            <p class="confirm-text">Вы уверены, что хотите сбросить весь прогресс?</p>
            <div class="confirm-buttons">
                <button class="confirm-yes" id="confirmYes">Да, сбросить</button>
                <button class="confirm-no" id="confirmNo">Отмена</button>
            </div>
        </div>
    </div>

    <!-- Модальное окно для промокодов -->
    <div class="promo-modal" id="promoModal">
        <div class="promo-box">
            <h2 class="promo-title"><i class="fas fa-ticket-alt"></i> Промокод</h2>
            <input type="text" class="promo-input" id="promoInput" placeholder="Введите промокод..." maxlength="20">
            <div class="promo-buttons">
                <button class="promo-activate" id="promoActivate">Активировать</button>
                <button class="promo-close" id="promoClose">Закрыть</button>
            </div>
            <div class="promo-list" id="promoList"></div>
        </div>
    </div>

    <!-- Модальное окно настроек -->
    <div class="settings-modal" id="settingsModal">
        <div class="settings-box">
            <h2 class="settings-title"><i class="fas fa-cog"></i> Настройки</h2>
            <div class="settings-buttons">
                <button class="settings-btn reset" id="settingsReset">
                    <i class="fas fa-trash-alt"></i> Сбросить прогресс
                </button>
                <button class="settings-btn sound" id="settingsSound">
                    <i class="fas fa-volume-up"></i> Звук ВКЛ
                </button>
                <button class="settings-btn promo" id="settingsPromo">
                    <i class="fas fa-ticket-alt"></i> Промокоды
                </button>
            </div>
            <button class="settings-close" id="settingsClose">Закрыть</button>
        </div>
    </div>
    
    <div class="container">
        <!-- Верхняя панель -->
        <header>
            <div class="header-left">
                <button class="settings-button" id="settingsButton">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
            <div class="stats-top">
                <div class="stat-top-item">
                    <i class="fas fa-mouse-pointer"></i>
                    <span id="clicksPerSecond">0</span>
                </div>
                <div class="stat-top-item">
                    <i class="fas fa-chart-line"></i>
                    <span id="energyEfficiency">1.0</span>
                </div>
            </div>
            <div class="header-right">
                <div class="keys-display" id="keysDisplay" title="Магазин">
                    <i class="fas fa-key"></i>
                    <span id="keysCount">0</span>
                </div>
            </div>
        </header>
        
        <!-- Основной контент -->
        <div class="content-area">
            <!-- Вкладка ИГРА -->
            <div class="tab-content active" id="gameTab">
                <div class="game-area">
                    <section class="clicker-section" style="flex: 2;">
                        <!-- Секция энергии -->
                        <div class="energy-section">
                            <div class="energy-header">
                                <div class="energy-title">
                                    <i class="fas fa-bolt"></i> Энергия
                                </div>
                                <div class="energy-value">
                                    <span id="currentEnergy">100</span>/<span id="maxEnergy">100</span>
                                </div>
                            </div>
                            <div class="energy-bar-container">
                                <div class="energy-bar" id="energyBar"></div>
                            </div>
                            <div class="energy-info">
                                <div>Восст: <span class="energy-regen" id="energyRegen">5</span>/с</div>
                                <div>Стоим: <span class="energy-cost" id="energyCost">5</span></div>
                            </div>
                        </div>
                        
                        <!-- ИСПРАВЛЕНО: изменен ID с totalPoints на clickCountDisplay -->
                        <div class="click-counter" id="clickCountDisplay">0</div>
                        <button class="click-button skin-default" id="clickButton">
                            <i class="fas fa-mouse-pointer"></i>
                        </button>
                        <div class="click-rate">за клик: <span id="clickValue">1</span></div>
                    </section>
                </div>
                
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-value" id="totalClicks">0</div>
                        <div class="stat-label">Клики</div>
                    </div>
                    <div class="stat-item">
                        <!-- ИСПРАВЛЕНО: изменен ID с totalPoints на totalPointsDisplay -->
                        <div class="stat-value" id="totalPointsDisplay">0</div>
                        <div class="stat-label">Всего очков</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="pointsPerSecond">0</div>
                        <div class="stat-label">/сек</div>
                    </div>
                </div>
            </div>
            
            <!-- Вкладка МАГАЗИН -->
            <div class="tab-content" id="shopTab">
                <div class="shop-container">
                    <!-- Статистика магазина -->
                    <div class="shop-stats">
                        <div class="shop-stat">
                            <div class="shop-stat-value" id="shopKeysCount">0</div>
                            <div class="shop-stat-label">Ключи</div>
                        </div>
                        <div class="shop-stat">
                            <div class="shop-stat-value" id="shopTotalCount">0/40</div>
                            <div class="shop-stat-label">Всего</div>
                        </div>
                    </div>
                    
                    <!-- Вкладки внутри магазина -->
                    <div class="shop-tabs">
                        <button class="shop-tab-button active" id="shopTabUpgrades">
                            <i class="fas fa-arrow-up"></i> Улучшения
                        </button>
                        <button class="shop-tab-button" id="shopTabExclusive">
                            <i class="fas fa-crown"></i> Эксклюзив
                        </button>
                        <button class="shop-tab-button" id="shopTabSkins">
                            <i class="fas fa-paint-brush"></i> Скины
                        </button>
                        <button class="shop-tab-button" id="shopTabCases">
                            <i class="fas fa-gift"></i> Кейсы
                        </button>
                    </div>
                    
                    <!-- Контент вкладок магазина -->
                    <div class="shop-tab-content active" id="shopUpgradesContent">
                        <h3 class="shop-section-title">Обычные улучшения</h3>
                        <div class="shop-grid" id="shopUpgradesList"></div>
                    </div>
                    
                    <div class="shop-tab-content" id="shopExclusiveContent">
                        <h3 class="shop-section-title">Эксклюзивные улучшения</h3>
                        <div class="shop-grid" id="shopExclusiveList"></div>
                    </div>
                    
                    <div class="shop-tab-content" id="shopSkinsContent">
                        <h3 class="shop-section-title">Скины для кнопки</h3>
                        <div class="skins-grid" id="shopSkinsList"></div>
                    </div>
                    
                    <div class="shop-tab-content" id="shopCasesContent">
                        <h3 class="shop-section-title">Кейсы с наградами</h3>
                        <div class="cases-grid" id="shopCasesList"></div>
                    </div>
                </div>
            </div>
            
            <!-- Вкладка ДОСТИЖЕНИЯ -->
            <div class="tab-content" id="achievementsTab">
                <div class="achievements-container">
                    <div class="achievements-stats">
                        <div class="achievements-stat">
                            <div class="achievements-stat-value" id="completedAchievements">0/50</div>
                            <div class="achievements-stat-label">Выполнено</div>
                        </div>
                        <div class="achievements-stat">
                            <div class="achievements-stat-value" id="availableKeys">0</div>
                            <div class="achievements-stat-label">Ключи</div>
                        </div>
                    </div>
                    
                    <div class="achievements-grid" id="achievementsList"></div>
                </div>
            </div>
            
            <!-- Вкладка ПРОФИЛЬ -->
            <div class="tab-content" id="profileTab">
                <div class="profile-container">
                    <div class="profile-header">
                        <div class="profile-avatar">
                            <i class="fas fa-user-circle"></i>
                        </div>
                        <div class="profile-name" id="profileName">Игрок</div>
                    </div>
                    
                    <div class="profile-stats">
                        <div class="profile-stat">
                            <div class="profile-stat-value" id="profileReferrals">0</div>
                            <div class="profile-stat-label">Приглашено</div>
                        </div>
                        <div class="profile-stat">
                            <div class="profile-stat-value" id="profileBonus">0</div>
                            <div class="profile-stat-label">Бонусов</div>
                        </div>
                    </div>
                    
                    <div class="profile-buttons">
                        <button class="profile-button share" id="profileShareBtn">
                            <i class="fas fa-share-alt"></i> Поделиться
                        </button>
                        <button class="profile-button invite" id="profileInviteBtn">
                            <i class="fas fa-user-plus"></i> Пригласить
                        </button>
                    </div>
                    
                    <div class="referral-link" id="referralLinkContainer" style="display: none;">
                        <input type="text" class="referral-input" id="referralLink" readonly>
                        <button class="referral-copy" id="referralCopyBtn">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                    
                    <div class="referral-info">
                        <h3 class="referral-title">Реферальная система</h3>
                        <p class="referral-text">• Приглашай друзей по ссылке</p>
                        <p class="referral-text">• Получай +2 ключа за каждого</p>
                        <p class="referral-text">• Друзья получают +1 ключ</p>
                        <p class="referral-text">• Больше друзей - больше бонусов!</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Нижняя панель с табами -->
        <div class="tabs">
            <button class="tab-button active" id="tabGame">
                <i class="fas fa-gamepad"></i>
            </button>
            <button class="tab-button" id="tabShop">
                <i class="fas fa-store"></i>
                <span class="tab-counter" id="shopCounter">0/40</span>
            </button>
            <button class="tab-button" id="tabAchievements">
                <i class="fas fa-trophy"></i>
                <span class="tab-counter" id="achievementsCounter">0/50</span>
            </button>
            <button class="tab-button" id="tabProfile">
                <i class="fas fa-user"></i>
            </button>
        </div>
    </div>

    <!-- Уведомление о покупке -->
    <div id="purchaseNotification" style="display: none;" class="purchase-notification">
        <i class="fas fa-check-circle"></i>
        <span id="purchaseMessage">Куплено!</span>
    </div>

    <!-- Уведомление для промокодов -->
    <div id="promoMessage" style="display: none;" class="promo-message"></div>

    <!-- Подключаем Telegram SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- Подключаем файлы JavaScript -->
    <script src="globals.js"></script>
    <script src="achievements.js"></script>
    <script src="upgrades.js"></script>
    <script src="shop.js"></script>
    <script src="skins.js"></script>
    <script src="lootboxes.js"></script>
    <script src="promocodes.js"></script>
    <script src="telegram.js"></script>
    <script src="leaderboard.js"></script>
    <script src="game.js"></script>
<!-- Чит-меню (скрыто по умолчанию) -->
<div class="cheat-modal" id="cheatModal" style="display: none;">
    <div class="cheat-box">
        <div class="cheat-header">
            <h2 class="cheat-title"><i class="fas fa-bug"></i> DEBUG MENU</h2>
            <button class="cheat-close" id="cheatClose"><i class="fas fa-times"></i></button>
        </div>
        
        <div class="cheat-content">
            <div class="cheat-section">
                <h3 class="cheat-section-title"><i class="fas fa-key"></i> Ключи</h3>
                <div class="cheat-controls">
                    <input type="number" id="cheatKeysAmount" class="cheat-input" value="100" min="1" max="10000">
                    <div class="cheat-buttons">
                        <button class="cheat-button" onclick="cheatAddKeys()">Добавить</button>
                        <button class="cheat-button" onclick="cheatRemoveKeys()">Убрать</button>
                        <button class="cheat-button" onclick="cheatSetKeys()">Установить</button>
                    </div>
                </div>
            </div>

            <div class="cheat-section">
                <h3 class="cheat-section-title"><i class="fas fa-star"></i> Очки</h3>
                <div class="cheat-controls">
                    <input type="number" id="cheatPointsAmount" class="cheat-input" value="1000" min="1" max="1000000">
                    <div class="cheat-buttons">
                        <button class="cheat-button" onclick="cheatAddPoints()">Добавить</button>
                        <button class="cheat-button" onclick="cheatRemovePoints()">Убрать</button>
                        <button class="cheat-button" onclick="cheatSetPoints()">Установить</button>
                    </div>
                </div>
            </div>

            <div class="cheat-section">
                <h3 class="cheat-section-title"><i class="fas fa-mouse-pointer"></i> Клики</h3>
                <div class="cheat-controls">
                    <input type="number" id="cheatClicksAmount" class="cheat-input" value="1000" min="1" max="100000">
                    <div class="cheat-buttons">
                        <button class="cheat-button" onclick="cheatAddClicks()">Добавить</button>
                        <button class="cheat-button" onclick="cheatRemoveClicks()">Убрать</button>
                        <button class="cheat-button" onclick="cheatSetClicks()">Установить</button>
                    </div>
                </div>
            </div>

            <div class="cheat-section">
                <h3 class="cheat-section-title"><i class="fas fa-bolt"></i> Энергия</h3>
                <div class="cheat-controls">
                    <input type="number" id="cheatEnergyAmount" class="cheat-input" value="100" min="1" max="1000">
                    <div class="cheat-buttons">
                        <button class="cheat-button" onclick="cheatAddEnergy()">Добавить</button>
                        <button class="cheat-button" onclick="cheatSetEnergy()">Заполнить</button>
                        <button class="cheat-button" onclick="cheatMaxEnergy()">Макс</button>
                    </div>
                </div>
            </div>

            <div class="cheat-section">
                <h3 class="cheat-section-title"><i class="fas fa-crown"></i> Мгновенные улучшения</h3>
                <div class="cheat-grid">
                    <button class="cheat-grid-button" onclick="cheatMaxUpgrades()">Макс все улучшения</button>
                    <button class="cheat-grid-button" onclick="cheatUnlockAllSkins()">Все скины</button>
                    <button class="cheat-grid-button" onclick="cheatUnlockAllExclusive()">Все эксклюзивы</button>
                    <button class="cheat-grid-button" onclick="cheatCompleteAchievements()">Все достижения</button>
                </div>
            </div>

            <div class="cheat-section">
                <h3 class="cheat-section-title"><i class="fas fa-gift"></i> Кейсы</h3>
                <div class="cheat-grid">
                    <button class="cheat-grid-button" onclick="cheatOpenCase(1, 10)">10 обычных</button>
                    <button class="cheat-grid-button" onclick="cheatOpenCase(2, 10)">10 редких</button>
                    <button class="cheat-grid-button" onclick="cheatOpenCase(3, 10)">10 эпических</button>
                    <button class="cheat-grid-button" onclick="cheatOpenCase(4, 10)">10 легендарных</button>
                </div>
            </div>

            <div class="cheat-section">
                <h3 class="cheat-section-title"><i class="fas fa-tachometer-alt"></i> Множители</h3>
                <div class="cheat-controls">
                    <input type="number" id="cheatMultiplier" class="cheat-input" value="2" min="1" max="100" step="0.1">
                    <div class="cheat-buttons">
                        <button class="cheat-button" onclick="cheatSetClickMultiplier()">Множитель клика</button>
                        <button class="cheat-button" onclick="cheatResetMultiplier()">Сброс</button>
                    </div>
                </div>
            </div>

            <div class="cheat-section">
                <h3 class="cheat-section-title"><i class="fas fa-skull"></i> Опасные</h3>
                <div class="cheat-danger">
                    <button class="cheat-danger-button" onclick="cheatResetGame()">СБРОС ИГРЫ</button>
                    <button class="cheat-danger-button" onclick="cheatWipeData()">ПОЛНОЕ УДАЛЕНИЕ</button>
                </div>
            </div>
        </div>

        <div class="cheat-footer">
            <button class="cheat-button cheat-close-btn" id="cheatCloseBtn">Закрыть</button>
        </div>
    </div>
</div>

<!-- Кнопка для быстрого доступа к чит-меню (только если активировано) -->
<div class="cheat-quick-button" id="cheatQuickButton" style="display: none;" onclick="toggleCheatMenu()">
    <i class="fas fa-bug"></i>
</div>

</body>
</html>
