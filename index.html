<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Кликер Игра с Промокодами и Кейсами</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Модальное окно подтверждения сброса -->
    <div class="confirm-reset" id="confirmReset">
        <div class="confirm-box">
            <h2 class="confirm-title"><i class="fas fa-exclamation-triangle"></i> Сброс прогресса</h2>
            <p class="confirm-text">Вы уверены, что хотите сбросить весь прогресс?<br>Это действие нельзя отменить!</p>
            <div class="confirm-buttons">
                <button class="confirm-yes" id="confirmYes">Да, сбросить всё</button>
                <button class="confirm-no" id="confirmNo">Отмена</button>
            </div>
        </div>
    </div>

    <!-- Модальное окно для промокодов -->
    <div class="promo-modal" id="promoModal">
        <div class="promo-box">
            <h2 class="promo-title"><i class="fas fa-ticket-alt"></i> Введите промокод</h2>
            <input type="text" class="promo-input" id="promoInput" placeholder="Введите промокод..." maxlength="20">
            <div class="promo-buttons">
                <button class="promo-activate" id="promoActivate">Активировать</button>
                <button class="promo-close" id="promoClose">Закрыть</button>
            </div>
            <div class="promo-list" id="promoList"></div>
        </div>
    </div>
    
    <div class="container">
        <header>
            <h1><i class="fas fa-mouse-pointer"></i> Кликер Игра</h1>
            <p class="subtitle">Кликайте на кнопку, зарабатывайте очки и открывайте кейсы!</p>
            <div class="header-controls">
                <button class="reset-button" id="resetButton">
                    <i class="fas fa-trash-alt"></i> Сбросить прогресс
                </button>
                <button class="sound-toggle" id="soundToggle">
                    <i class="fas fa-volume-up"></i> Звук ВКЛ
                </button>
                <button class="promo-button" id="promoButton">
                    <i class="fas fa-ticket-alt"></i> Промокоды
                </button>
                <div class="keys-display" id="keysDisplay" title="Нажмите чтобы перейти в магазин">
                    <i class="fas fa-key"></i>
                    <span id="keysCount">0</span>
                </div>
            </div>
        </header>

        <!-- Telegram панель -->
        <div class="telegram-panel" id="telegramPanel" style="display: none;">
            <div class="telegram-user">
                <i class="fab fa-telegram"></i>
                <span id="telegramUser">Загрузка...</span>
            </div>
            <div class="telegram-buttons">
                <button class="telegram-button" id="shareButton">
                    <i class="fas fa-share-alt"></i> Поделиться
                </button>
                <button class="telegram-button" id="inviteButton">
                    <i class="fas fa-user-plus"></i> Пригласить
                </button>
            </div>
        </div>
        
        <!-- Табы для переключения между разделами -->
        <div class="tabs">
            <button class="tab-button active" id="tabGame">
                <i class="fas fa-gamepad"></i> Игра
            </button>
            <button class="tab-button" id="tabAchievements">
                <i class="fas fa-trophy"></i> Достижения
                <span class="tab-counter" id="achievementsCounter">0/50</span>
            </button>
            <button class="tab-button" id="tabShop">
                <i class="fas fa-store"></i> Магазин
                <span class="tab-counter" id="shopCounter">0/15</span>
            </button>
            <button class="tab-button" id="tabSkins">
                <i class="fas fa-paint-brush"></i> Скины
                <span class="tab-counter" id="skinsCounter">0/10</span>
            </button>
            <button class="tab-button" id="tabCases">
                <i class="fas fa-gift"></i> Кейсы
                <span class="tab-counter" id="casesCounter">0/4</span>
            </button>
            <button class="tab-button" id="tabLeaderboard">
                <i class="fas fa-trophy"></i> Лидеры
                <span class="tab-counter" id="leaderboardCounter">0/100</span>
            </button>
        </div>
        
        <!-- Вкладка ИГРА -->
        <div class="tab-content active" id="gameTab">
            <div class="game-area">
                <section class="clicker-section">
                    <h2 class="section-title">Кликер</h2>
                    
                    <!-- Секция энергии -->
                    <div class="energy-section">
                        <div class="energy-header">
                            <div class="energy-title">
                                <i class="fas fa-bolt"></i> Энергия
                            </div>
                            <div class="energy-value">
                                <span id="currentEnergy">100</span>/<span id="maxEnergy">100</span>
                            </div>
                        </div>
                        <div class="energy-bar-container">
                            <div class="energy-bar" id="energyBar"></div>
                        </div>
                        <div class="energy-info">
                            <div>Восстановление: <span class="energy-regen" id="energyRegen">5</span>/сек</div>
                            <div>Стоимость клика: <span class="energy-cost" id="energyCost">5</span></div>
                        </div>
                    </div>
                    
                    <div class="click-counter" id="clickCount">0</div>
                    <button class="click-button skin-default" id="clickButton">
                        <i class="fas fa-mouse-pointer"></i><br>
                        Кликай!
                    </button>
                    <div class="click-rate">Очков за клик: <span id="clickValue">1</span></div>
                </section>
                
                <section class="upgrades-section">
                    <h2 class="section-title">Улучшения</h2>
                    <div class="upgrade-list" id="upgradeList"></div>
                </section>
            </div>
            
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-label">Всего кликов</div>
                    <div class="stat-value" id="totalClicks">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Всего очков</div>
                    <div class="stat-value" id="totalPoints">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Очков в секунду</div>
                    <div class="stat-value" id="pointsPerSecond">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Эффективность</div>
                    <div class="stat-value" id="energyEfficiency">1.0</div>
                </div>
            </div>
        </div>
        
        <!-- Вкладка ДОСТИЖЕНИЯ -->
        <div class="tab-content" id="achievementsTab">
            <div class="achievements-container">
                <div class="achievements-stats">
                    <div class="achievements-stat">
                        <div class="achievements-stat-value" id="completedAchievements">0/50</div>
                        <div class="achievements-stat-label">Выполнено</div>
                    </div>
                    <div class="achievements-stat">
                        <div class="achievements-stat-value" id="totalKeys">0</div>
                        <div class="achievements-stat-label">Всего ключей</div>
                    </div>
                    <div class="achievements-stat">
                        <div class="achievements-stat-value" id="availableKeys">0</div>
                        <div class="achievements-stat-label">Доступно ключей</div>
                    </div>
                </div>
                
                <div class="achievements-grid" id="achievementsList"></div>
            </div>
        </div>
        
        <!-- Вкладка МАГАЗИН -->
        <div class="tab-content" id="shopTab">
            <div class="shop-container">
                <div class="shop-header">
                    <h2><i class="fas fa-store"></i> Магазин эксклюзивных улучшений</h2>
                    <p>Потратьте свои ключи на уникальные улучшения!</p>
                </div>
                
                <div class="shop-stats">
                    <div class="shop-stat">
                        <div class="shop-stat-value" id="shopKeysCount">0</div>
                        <div class="shop-stat-label">Ваши ключи</div>
                    </div>
                    <div class="shop-stat">
                        <div class="shop-stat-value" id="purchasedCount">0/15</div>
                        <div class="shop-stat-label">Куплено</div>
                    </div>
                </div>
                
                <div class="shop-grid" id="shopList"></div>
            </div>
        </div>
        
        <!-- Вкладка СКИНЫ -->
        <div class="tab-content" id="skinsTab">
            <div class="skins-container">
                <div class="skins-header">
                    <h2><i class="fas fa-paint-brush"></i> Скины для кнопки</h2>
                    <p>Купите уникальные скины за ключи!</p>
                </div>
                
                <div class="skins-stats">
                    <div class="skins-stat">
                        <div class="skins-stat-value" id="skinsKeysCount">0</div>
                        <div class="skins-stat-label">Ваши ключи</div>
                    </div>
                    <div class="skins-stat">
                        <div class="skins-stat-value" id="equippedSkin">Классический</div>
                        <div class="skins-stat-label">Текущий скин</div>
                    </div>
                </div>
                
                <div class="skins-grid" id="skinsList"></div>
            </div>
        </div>
        
        <!-- Вкладка КЕЙСЫ -->
        <div class="tab-content" id="casesTab">
            <div class="cases-container">
                <div class="cases-header">
                    <h2><i class="fas fa-gift"></i> Кейсы с наградами</h2>
                    <p>Открывайте кейсы за ключи и получайте уникальные предметы!</p>
                </div>
                
                <div class="cases-stats">
                    <div class="cases-stat">
                        <div class="cases-stat-value" id="casesKeysCount">0</div>
                        <div class="cases-stat-label">Ваши ключи</div>
                    </div>
                </div>
                
                <div class="cases-grid" id="casesList"></div>
            </div>
        </div>
        
        <!-- Вкладка ЛИДЕРБОРД -->
        <div class="tab-content" id="leaderboardTab">
            <div class="leaderboard-container">
                <div class="leaderboard-header">
                    <h2><i class="fas fa-trophy"></i> Таблица лидеров</h2>
                    <p>Лучшие игроки со всего мира!</p>
                </div>
                
                <div class="leaderboard-stats">
                    <div class="leaderboard-stat">
                        <div class="leaderboard-stat-value" id="playerRank">-</div>
                        <div class="leaderboard-stat-label">Ваше место</div>
                    </div>
                    <div class="leaderboard-stat">
                        <div class="leaderboard-stat-value" id="totalPlayers">0</div>
                        <div class="leaderboard-stat-label">Всего игроков</div>
                    </div>
                </div>
                
                <div class="leaderboard-table">
                    <div class="leaderboard-header-row">
                        <div>Место</div>
                        <div>Игрок</div>
                        <div>Очки</div>
                        <div>Клики</div>
                        <div>Уровень</div>
                    </div>
                    <div id="leaderboardList"></div>
                </div>
                
                <button class="leaderboard-update" id="updateLeaderboardBtn">
                    <i class="fas fa-sync-alt"></i> Обновить мой результат
                </button>
            </div>
        </div>
        
        <footer>
            <p>Кликер игра с промокодами и кейсами &copy; 2025 | Удачной игры!</p>
        </footer>
    </div>

    <!-- Уведомление о покупке -->
    <div id="purchaseNotification" style="display: none;" class="purchase-notification">
        <i class="fas fa-check-circle"></i>
        <span id="purchaseMessage">Улучшение куплено!</span>
    </div>

    <!-- Уведомление для промокодов -->
    <div id="promoMessage" style="display: none;" class="promo-message"></div>

    <!-- Подключаем Telegram SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- Подключаем файлы JavaScript в правильном порядке -->
    <script src="globals.js"></script>
    <script src="achievements.js"></script>
    <script src="upgrades.js"></script>
    <script src="shop.js"></script>
    <script src="skins.js"></script>
    <script src="lootboxes.js"></script>
    <script src="promocodes.js"></script>
    <script src="telegram.js"></script>
    <script src="leaderboard.js"></script>
    <script src="game.js"></script>
</body>
</html>